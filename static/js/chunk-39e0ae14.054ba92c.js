(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39e0ae14"],{"333d":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},n=[];a("a9e3");Math.easeInOutQuad=function(e,t,a,i){return e/=i/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function r(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(e,t,a){var i=l(),n=e-i,s=20,u=0;t="undefined"===typeof t?500:t;var c=function e(){u+=s;var l=Math.easeInOutQuad(u,i,n,t);r(l),u<t?o(e):a&&"function"===typeof a&&a()};c()}var u={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&s(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&s(0,800)}}},c=u,d=(a("5660"),a("2877")),m=Object(d["a"])(c,i,n,!1,null,"6af373ef",null);t["a"]=m.exports},5660:function(e,t,a){"use strict";a("7a30")},6724:function(e,t,a){"use strict";a("8d41");var i="@@wavesContext";function n(e,t){function a(a){var i=Object.assign({},t.value),n=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),o=n.ele;if(o){o.style.position="relative",o.style.overflow="hidden";var r=o.getBoundingClientRect(),l=o.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":(l=document.createElement("span"),l.className="waves-ripple",l.style.height=l.style.width=Math.max(r.width,r.height)+"px",o.appendChild(l)),n.type){case"center":l.style.top=r.height/2-l.offsetHeight/2+"px",l.style.left=r.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(a.pageY-r.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(a.pageX-r.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=n.color,l.className="waves-ripple z-active",!1}}return e[i]?e[i].removeHandle=a:e[i]={removeHandle:a},a}var o={bind:function(e,t){e.addEventListener("click",n(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[i].removeHandle,!1),e.addEventListener("click",n(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[i].removeHandle,!1),e[i]=null,delete e[i]}},r=function(e){e.directive("waves",o)};window.Vue&&(window.waves=o,Vue.use(r)),o.install=r;t["a"]=o},"7a30":function(e,t,a){},8062:function(e,t,a){},"8d41":function(e,t,a){},c93f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container "},[a("div",{staticClass:"filter-item"},[a("label",[e._v("二维码参数:")]),a("el-autocomplete",{staticStyle:{width:"250px"},attrs:{"fetch-suggestions":function(t,a){return e.querySearchItem(e.qrcodeIdContainer,t,a)},placeholder:"请选择二维码ID",clearable:""},model:{value:e.listQuery.qrcodeId,callback:function(t){e.$set(e.listQuery,"qrcodeId",t)},expression:"listQuery.qrcodeId"}}),a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择合格类型",clearable:""},model:{value:e.listQuery.manufacturePass,callback:function(t){e.$set(e.listQuery,"manufacturePass",t)},expression:"listQuery.manufacturePass"}},e._l(e.manufactureTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1),a("el-autocomplete",{staticStyle:{width:"180px"},attrs:{"fetch-suggestions":function(t,a){return e.querySearchItem(e.equipNoContainer,t,a)},placeholder:"请选择生产设备编号",clearable:""},model:{value:e.listQuery.equipNo,callback:function(t){e.$set(e.listQuery,"equipNo",t)},expression:"listQuery.equipNo"}}),a("label",{staticStyle:{"margin-left":"50px"}},[e._v("膜参数:")]),a("el-autocomplete",{staticStyle:{width:"150px"},attrs:{"fetch-suggestions":function(t,a){return e.querySearchItem(e.materialContainer,t,a)},placeholder:"请选择膜材质",clearable:""},model:{value:e.listQuery.material,callback:function(t){e.$set(e.listQuery,"material",t)},expression:"listQuery.material"}}),a("el-autocomplete",{staticStyle:{width:"150px"},attrs:{"fetch-suggestions":function(t,a){return e.querySearchItem(e.batchNoContainer,t,a)},placeholder:"请选择膜批次号",clearable:""},model:{value:e.listQuery.batchNo,callback:function(t){e.$set(e.listQuery,"batchNo",t)},expression:"listQuery.batchNo"}}),a("el-autocomplete",{staticStyle:{width:"200px"},attrs:{"fetch-suggestions":function(t,a){return e.querySearchItem(e.shimNoContainer,t,a)},placeholder:"请选择SHIM型号及编号",clearable:""},model:{value:e.listQuery.shimNo,callback:function(t){e.$set(e.listQuery,"shimNo",t)},expression:"listQuery.shimNo"}}),a("el-autocomplete",{staticStyle:{width:"120px"},attrs:{"fetch-suggestions":function(t,a){return e.querySearchItem(e.volumeNoContainer,t,a)},placeholder:"请选择卷号",clearable:""},model:{value:e.listQuery.volumeNo,callback:function(t){e.$set(e.listQuery,"volumeNo",t)},expression:"listQuery.volumeNo"}}),a("br"),a("label",[e._v("开始时间:")]),a("el-date-picker",{attrs:{type:e.DateType,clearable:!1,placeholder:"选择生产开始时间",align:"right","picker-options":e.startPickerOptions},model:{value:e.listQuery.manufactureStartTime,callback:function(t){e.$set(e.listQuery,"manufactureStartTime",t)},expression:"listQuery.manufactureStartTime"}}),a("label",{staticStyle:{"margin-left":"10px"}},[e._v("结束时间:")]),a("el-date-picker",{attrs:{type:e.DateType,clearable:!1,placeholder:"请选择生产截止时间",align:"right","picker-options":e.endPickerOptions},model:{value:e.listQuery.manufactureEndTime,callback:function(t){e.$set(e.listQuery,"manufactureEndTime",t)},expression:"listQuery.manufactureEndTime"}}),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" "+e._s(e.$t("table.search"))+" ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{loading:e.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:e.handleDownload}},[e._v(" "+e._s(e.$t("table.export"))+" ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"table",staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":e.highLightEnable},on:{"row-click":e.rowClick}},[a("el-table-column",{attrs:{label:"二维码ID",prop:"id",align:"center",width:"300",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.MembraneNo))])]}}])}),a("el-table-column",{attrs:{label:"生产时间","min-width":"20%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e._f("parseTime")(Date.parse(i.ManufactureTime),"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"合格类型",align:"center","min-width":"20%"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.ManufacturePass))])]}}])}),a("el-table-column",{attrs:{label:"生产设备编号",align:"center","min-width":"15%"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.EquipNo))])]}}])}),a("el-table-column",{attrs:{label:"膜材质",align:"center","min-width":"30%"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.Material))])]}}])}),a("el-table-column",{attrs:{label:"膜批次号","min-width":"15%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.BatchNo))])]}}])}),a("el-table-column",{attrs:{label:"SHIM型号","min-width":"25%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.ShimNo))])]}}])}),a("el-table-column",{attrs:{label:"卷号","min-width":"25%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.VolumeNo))])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)},n=[],o=(a("d81d"),a("4de4"),a("d3b7"),a("caad"),a("2532"),a("14d9"),a("4e82"),a("159b"),a("3ca3"),a("ddb0"),a("b4af"));function r(e){return Object(o["a"])({url:"/api/v1/qrcodes/page",method:"get",params:e})}var l=a("6724"),s=a("ed08"),u=a("333d"),c={components:{Pagination:u["a"]},directives:{waves:l["a"]},filters:{},data:function(){return{DateType:"datetime",lastClickId:void 0,highLightEnable:!0,tableKey:0,list:null,qrcodeIdContainer:[],equipNoContainer:[],materialContainer:[],batchNoContainer:[],shimNoContainer:[],volumeNoContainer:[],total:0,listLoading:!0,listQuery:{page:1,limit:20,qrcodeId:void 0,manufactureStartTime:new Date((new Date).getTime()-7776e6),manufactureEndTime:new Date,material:void 0,batchNo:void 0,shimNo:void 0,equipNo:void 0,volumeNo:void 0,manufacturePass:void 0},manufactureTypeOptions:["合格","不合格"],dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"新建"},dialogPvVisible:!1,pvData:[],downloadLoading:!1,startPickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}},{text:"一个月前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-2592e6),e.$emit("pick",t)}},{text:"六个月前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-15552e6),e.$emit("pick",t)}}]},endPickerOptions:{shortcuts:[{text:"今天",onClick:function(e){var t=new Date;t.setTime(t.getTime()),e.$emit("pick",t)}}]}}},created:function(){this.getList(),this.getTotalList()},methods:{getList:function(){var e=this;this.listLoading=!0,r(this.listQuery).then((function(t){e.list=t.data.items,e.total=t.data.total,e.list.map((function(e){return!0===e.ManufacturePass?e.ManufacturePass="合格":!1===e.ManufacturePass&&(e.ManufacturePass="不合格"),e})),e.listLoading=!1}))},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},querySearchItem:function(e,t,a){var i=e,n=t?i.filter(this.createFilter(t)):i;a(n)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){},insertSuggestContain:function(e){this.qrcodeIdContainer.includes(e.MembraneNo)||this.qrcodeIdContainer.push({value:e.MembraneNo}),this.qrcodeIdContainer.sort(),this.equipNoContainer.includes(e.EquipNo)||this.equipNoContainer.push({value:e.EquipNo}),this.equipNoContainer.sort(),this.materialContainer.includes(e.Material)||this.materialContainer.push({value:e.Material}),this.materialContainer.sort(),this.batchNoContainer.includes(e.BatchNo)||this.batchNoContainer.push({value:e.BatchNo}),this.batchNoContainer.sort(),this.shimNoContainer.includes(e.ShimNo)||this.shimNoContainer.push({value:e.ShimNo}),this.shimNoContainer.sort(),this.volumeNoContainer.includes(e.VolumeNo)||this.volumeNoContainer.push({value:e.VolumeNo}),this.volumeNoContainer.sort()},getTotalList:function(){var e=this;this.listLoading=!0,r(this.listQuery).then((function(t){t.data.items.forEach((function(t,a){e.insertSuggestContain(t)})),e.listLoading=!1}))},handleFilter:function(){null!=this.listQuery.manufactureStartTime&&null!=this.listQuery.manufactureEndTime?this.listQuery.manufactureStartTime>this.listQuery.manufactureEndTime?this.$notify.error({title:"错误",message:"时间设置错误! 开始时间不能大于结束时间"}):(this.listQuery.page=1,this.getList()):this.$notify.error({title:"错误",message:"开始时间和结束时间为空！"})},handleDownload:function(){var e=this;this.downloadLoading=!0,Promise.all([a.e("chunk-6e83591c"),a.e("chunk-234ecc1b"),a.e("chunk-2133cd4f")]).then(a.bind(null,"4bf8")).then((function(t){var a=["二维码ID","生产时间","合格类型","生产设备编号","膜材质","膜批次号","SHIM型号","卷号"],i=["MembraneNo","ManufactureTime","ManufacturePass","EquipNo","Material","BatchNo","ShimNo","VolumeNo"],n=e.formatJson(i);t.export_json_to_excel({header:a,data:n,filename:"二维码信息"}),e.downloadLoading=!1}))},formatJson:function(e){return this.list.map((function(t){return e.map((function(e){return"datetime"===e?Object(s["d"])(Date.parse(t[e]),"{y}-{m}-{d} {h}:{i}:{s}"):t[e]}))}))},rowClick:function(e,t,a){this.lastClickId===e.id&&!0===this.highLightEnable?this.highLightEnable=!1:this.highLightEnable=!0,this.lastClickId=e.id}}},d=c,m=(a("f08b"),a("2877")),p=Object(m["a"])(d,i,n,!1,null,"cda1658a",null);t["default"]=p.exports},f08b:function(e,t,a){"use strict";a("8062")}}]);